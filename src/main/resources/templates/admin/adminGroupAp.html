<!DOCTYPE html>
<html xmlns:th="http://www.thymelaf.org">

<link rel="stylesheet" href="https://uicdn.toast.com/tui-grid/latest/tui-grid.css" />
<link rel="stylesheet" href="https://uicdn.toast.com/tui.pagination/latest/tui-pagination.css" />
<script src="https://uicdn.toast.com/tui.pagination/latest/tui-pagination.js"></script>
<script src="https://uicdn.toast.com/tui-grid/latest/tui-grid.js"></script>
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="description" content="" />
<meta name="author" content="" />
<title>Dashboard - SB Admin</title>
<link href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel="stylesheet" />
<link href="/admin/css/styles.css" rel="stylesheet" />
<script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
</head>
<body class="sb-nav-fixed">

	<nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
		<!-- Navbar Brand-->
		<a class="navbar-brand ps-3" href="index.html">3조 대학교</a>
		<!-- Sidebar Toggle-->
		<!-- Navbar Search-->
		<form class="d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0">
			<div class="input-group"></div>
		</form>
		<!-- Navbar-->
		<ul class="navbar-nav ms-auto ms-md-0 me-3 me-lg-4">
			<li class="nav-item dropdown">
			<a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
			<i class="fas fa-user fa-fw"></i></a>
				<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
					<li><a class="dropdown-item" href="#!">Logout</a></li>
				</ul></li>
		</ul>
	</nav>
	<th:block th:insert="~{/admin/adminmenu.html::leftmenu}"></th:block>
	<div class="bodypart">
		
				<div class="section-title text-center">

				<form action="/saveCounselingForm" method="post">
					<div class="box">
						<div class="container">
							<span class="label"><b>상담 구분 : </b></span>
							 <select id="selectedType" name="selectedType" class="form-select" aria-label="상담 종류 선택">
								<option value="" selected disabled>원하는 상담을 선택하세요.</option>
								<option value="10">지도교수 상담</option>
								<option value="20">전문 상담</option>
								<option value="30">심리 상담</option>
								<option value="40">취업·진로 상담</option>
							</select>
						</div>
					</div>

					<table class="request">
						<tr>
							<th class="th" scope="row">상담 날짜</th>
							<td th:text="${param.date}">
							</td>
							<td><input id="date" type="text" th:value="${param.date}" name="date" hidden="true"></td>
						</tr>
						<tr>
							<th class="th" scope="row">상담 시간</th>
							<td th:text="${param.time} + '시'"></td>
							<td><input id="time" type="text" th:value="${param.time}" name="time" hidden="true"></td>
						</tr>
						<tr>
							<th class="th" scope="row">이름</th>
							<td th:text="${studentName}">
							</td>
							<td><input id="name" type="text" th:value="${studentName}" name="name" hidden="true"></td>
						</tr>
						<tr>
							<th class="th" scope="row">학번</th>
							<td th:text="${studentNumber}"></td>
							<td><input id="studentNumber" type="text" th:value="${studentNumber}" name="studentNumber" hidden="true"></td>
						</tr>

						<tr>
							<th class="th" scope="row">이메일</th>
							<td>
							<input id="email" type="text" class="wid53" name="email" placeholder="이메일을 입력해주세요">
							</td>
						</tr>


						<tr>
							<th class="th" scope="row">상담 내용</th>
							<td>
								<textarea id="counselingContent" name="counselingContent" placeholder="200자 이내(400byte)로 입력해 주세요"style="text-align: left;"></textarea>
							</td>
						</tr>
					</table>

					<div class="section-title text-center">
						<button id="submitBtn" type="submit" class="btn btn-danger">신청하기</button>
					</div>

					<input type="hidden" name="_csrf" th:value="${_csrf.token}" />
				</form>
			</div>



</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
	<script src="/admin/js/scripts.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
	<script src="/admin/assets/demo/chart-area-demo.js"></script>
	<script src="/admin/assets/demo/chart-bar-demo.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js" crossorigin="anonymous"></script>
	<script src="/admin/js/datatables-simple-demo.js"></script>
	<th:block th:insert="~{menu.html::scriptImport}">CDN JS 링크</th:block>
	<script type="text/javascript">
		$(document).ready(function() {

			$.ajax({
				url : "/admin/boardList",
				type : "get",
				dataType : "JSON",
				contentType : "application/json; charset=UTF-8",
				success : function(result) {
					console.log(result);

					const grid = new tui.Grid({
						el : document.getElementById('grid'),
						rowHeaders : [ 'rowNum' ],
						pageOptions : {
							useClient : true,
							perPage : 5
						},
						scrollX : false,
						scrollY : false,
						columns : [ {
							header : '아이디',
							name : 'board_no',
						}, {
							header : '제목',
							name : 'board_title',
						}, {
							header : '내용',
							name : 'board_content'
						} ]
					});
					grid.resetData(result);
				}
			});
		});
	</script>
</body>
</html>
